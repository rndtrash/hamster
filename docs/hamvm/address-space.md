# Адресное пространство

|[Оперативная память] (4096 байт)|Зарезервированное пространство (60928 байт)|[Стэк] (256 байт)  |[Ввод/Вывод] (16 байт)|[Таблица прерываний] (16 байт)|Зарезервированное пространство (224 байта)|
|--------------------------------|-------------------------------------------|-------------------|----------------------|------------------------------|------------------------------------------|
|`0x0000` - `0x0FFF`             |`0x1000` - `0xFDFF`                        |`0xFE00` - `0xFEFF`|`0xFF00` - `0xFF0F`   |`0xFF10` - `0xFF1F`           |`0xFF20` - `0xFFFF`                       |

## Оперативная память

Память, в которую записывается исполняемый код и переменные им используемые.

## Стэк

Используется:
* Инструкциями `PUSH` и `PULL` для временного хранения значений
* Инструкциями `CALL` и `RET` для возврата из функции.

Регистр `SP` содержит адрес последнего элемента стэка.

## Ввод/Вывод

Адреса в памяти, используемые для связи с внешним миром.

|Адрес   |Назначение                |Тип данных                                                              |Доступ|
|--------|--------------------------|------------------------------------------------------------------------|------|
|`0xFF00`|Позиция хомяка по оси X   |Беззнаковое 8-битное число                                              |Чтение|
|`0xFF01`|Позиция хомяка по оси Y   |Беззнаковое 8-битное число                                              |Чтение|
|`0xFF02`|Обстановка вокруг хомяка  |[См. "Обстановка вокруг хомяка"](data-types.md#обстановка-вокруг-хомяка)|Чтение|
|`0xFF03`|Управление хомяком        |[См. "Управление хомяком"](data-types.md#управление-хомяком)            |Запись|
|...     |                          |                                                                        |      |
|`0xFF0E`|Буква для вывода в консоль|Буква ASCII                                                             |Запись|
|`0xFF0F`|Вывод данных в консоль    |Флаг                                                                    |Запись|

## Таблица прерываний

Изменяемая таблица из 16 адресов на программный код. Прерывание из таблицы может вызываться как кодом, так и самим процессором.

|Адрес              |Назначение            |
|-------------------|----------------------|
|`0xFF10`           |Деление на ноль       |
|`0xFF11`           |Переполнение стека    |
|`0xFF12`           |Недополнение (?) стека|
|`0xFF13` - `0xFF1F`|Не используется       |

[Оперативная память]: #оперативная-память
[Стэк]: #стэк
[Ввод/Вывод]: #ввод/вывод
[Таблица прерываний]: #таблица-прерываний