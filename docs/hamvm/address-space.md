# Адресное пространство

|[Оперативная память] (4096 байт)|Зарезервированное пространство (60928 байт)|[Стэк] (256 байт)  |[Ввод/Вывод] (16 байт)|[Таблица прерываний] (16 байт)|Зарезервированное пространство (224 байта)|
|--------------------------------|-------------------------------------------|-------------------|----------------------|------------------------------|------------------------------------------|
|`0x0000` - `0x0FFF`             |`0x1000` - `0xFDFF`                        |`0xFE00` - `0xFEFF`|`0xFF00` - `0xFF0F`   |`0xFF10` - `0xFF1F`           |`0xFF20` - `0xFFFF`                       |

## Оперативная память

Память, в которую записывается исполняемый код и переменные им используемые.

## Стэк

Может содержать до `256 байт / (16 бит в байты) = 128` указателей на программный код. Используется при вызове функции (оп. код `CALL`) и возврате из неё (оп. код `RET`). Регистр `SP` содержит адрес последнего элемента стэка.

## Ввод/Вывод

Адреса в памяти, используемые для связи с внешним миром.

|Адрес   |Назначение              |Тип данных                                                              |Доступ|
|--------|------------------------|------------------------------------------------------------------------|------|
|`0xFF00`|Позиция хомяка по оси X |Беззнаковое 8-битное число                                              |Чтение|
|`0xFF01`|Позиция хомяка по оси Y |Беззнаковое 8-битное число                                              |Чтение|
|`0xFF02`|Обстановка вокруг хомяка|[См. "Обстановка вокруг хомяка"](data-types.md#обстановка-вокруг-хомяка)|Чтение|
|`0xFF03`|Управление хомяком      |[См. "Управление хомяком"](data-types.md#управление-хомяком)            |Запись|

## Таблица прерываний

Изменяемая таблица из 16 адресов на программный код. Прерывание из таблицы может вызываться как кодом, так и самим процессором.

|Адрес   |Назначение        |
|--------|------------------|
|`0xFF10`|Деление на ноль   |
|`0xFF11`|Переполнение стека|

[Оперативная память]: #оперативная-память
[Стэк]: #стэк
[Ввод/Вывод]: #ввод/вывод
[Таблица прерываний]: #таблица-прерываний